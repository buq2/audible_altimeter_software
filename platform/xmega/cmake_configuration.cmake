SET(CMAKE_SYSTEM_NAME Generic)
SET(CMAKE_C_COMPILER avr-gcc)
SET(CMAKE_CXX_COMPILER avr-g++)
set(CMAKE_OBJCOPY avr-objcopy)
set(CMAKE_OBJDUMP avr-objdump)
set(CMAKE_RANLIB avr-ranlib)
set(CMAKE_LINKER avr-ld)
SET(CMAKE_CROSSCOMPILING 1)
SET(CMAKE_SHARED_LIBRARY_LINK_C_FLAGS)
SET(CMAKE_SHARED_LIBRARY_LINK_CXX_FLAGS)

SET(MCU_MODEL atxmega128a4u)
ADD_DEFINITIONS("-mmcu=${MCU_MODEL}")
ADD_DEFINITIONS("-DF_CPU=32000000")
ADD_DEFINITIONS(-DUSE_MCU)
ADD_DEFINITIONS(-fno-exceptions -ffunction-sections -fdata-sections)
ADD_DEFINITIONS(-Os)
ADD_DEFINITIONS(-c -g -Os -Wall)

set(CMAKE_EXE_LINKER_FLAGS "-Wl,--gc-sections,--relax -mmcu=${MCU_MODEL}")
